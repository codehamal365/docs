[[_TOC_]]
# Https介绍
HTTPS（Hypertext Transfer Protocol Secure）是一种安全的HTTP协议，通过使用SSL/TLS协议对数据进行加密和身份验证来保护Web通信的安全性。以下是HTTPS的工作原理：

1. 客户端向服务器发起HTTPS请求。客户端通过使用HTTPS URL（例如https://www.example.com）而不是HTTP URL来发起请求。

2. 服务器发送数字证书给客户端。数字证书包含有关服务器的信息，例如服务器的名称和公钥。

3. 客户端验证数字证书。客户端使用数字证书中的公钥验证证书的真实性和合法性。如果证书无效或未经过验证，客户端将提示用户存在风险。

4. 客户端生成随机密钥。如果数字证书通过验证，客户端将生成一个随机密钥，并使用服务器的公钥对其进行加密，以便将其发送到服务器。

5. 服务器使用私钥解密密钥。服务器使用其私钥对客户端发送的加密密钥进行解密，以获取随机密钥。

6. 客户端和服务器使用随机密钥加密和解密数据。客户端和服务器使用共享的随机密钥对数据进行加密和解密，以确保数据的机密性和完整性。

7. 客户端向服务器发送一个加密的消息，其中包含有关客户端支持的加密和压缩算法的信息。

8. 服务器向客户端发送一个加密的消息，其中包含有关服务器选择的加密和压缩算法的信息。

9. 客户端和服务器现在都有了共享密钥，可以使用该密钥对所有通信数据进行加密和解密。


总之，HTTPS通过使用SSL/TLS协议对数据进行加密和身份验证来保护Web通信的安全性。在通信过程中，客户端和服务器使用数字证书进行身份验证，并使用随机密钥对数据进行加密和解密，以确保数据的机密性和完整性。

？？？？
https 四次握手 生成的随机数？？ 为什么要生成随机数？

# openssl 生成证书

使用OpenSSL可以生成自签证书，以下是一些基本的步骤：

1. 生成私钥：

   `openssl genrsa -out private.key 2048`

   这将生成一个2048位的RSA私钥，并将其保存到名为private.key的文件中。

2. 生成证书请求（CSR）：

   `openssl req -new -key private.key -out cert.csr`

   在生成CSR期间，您需要提供一些有关您的组织和站点的信息，例如组织名称、站点名称、电子邮件地址等。

3. 生成自签证书：

   `openssl x509 -req -days 365 -in cert.csr -signkey private.key -out certificate.crt`

   这将使用您的私钥对CSR进行签名，生成一个有效期为365天的自签证书，并将其保存到名为certificate.crt的文件中。

现在，您已经生成了一个自签证书，并且可以将其用于安全通信。请注意，自签证书没有通过受信任的CA颁发，因此在使用自签证书进行加密通信时，浏览器或其他客户端可能会显示警告消息。


# 获取免费证书

https://zhuanlan.zhihu.com/p/174755007

